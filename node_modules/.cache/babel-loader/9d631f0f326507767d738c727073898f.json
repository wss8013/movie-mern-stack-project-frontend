{"ast":null,"code":"import _objectSpread from\"/Users/shashawang/Desktop/NEU2022Summer/Web5610/classRepo-MERN-project/shasha-wang-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{GoogleLogin}from'@react-oauth/google';import jwt_decode from'jwt-decode';import{jsx as _jsx}from\"react/jsx-runtime\";var clientId=process.env.REACT_APP_GOOGLE_CLIENT_ID;function Login(_ref){var setUser=_ref.setUser;var onSuccess=function onSuccess(res){var tokenData=jwt_decode(res.credential);var loginData=_objectSpread({googleId:tokenData.sub},tokenData);setUser(loginData);localStorage.setItem(\"login\",JSON.stringify(loginData));};var onFailure=function onFailure(res){console.log('Login failed: res:',res);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GoogleLogin,{clientId:clientId,buttonText:\"Login\",onSuccess:onSuccess,onFailure:onFailure,cookiePolicy:'single_host_origin',style:{marginTop:'100px'},isSignedIn:true,auto_select:true})});}export default Login;","map":{"version":3,"names":["React","GoogleLogin","jwt_decode","clientId","process","env","REACT_APP_GOOGLE_CLIENT_ID","Login","setUser","onSuccess","res","tokenData","credential","loginData","googleId","sub","localStorage","setItem","JSON","stringify","onFailure","console","log","marginTop"],"sources":["/Users/shashawang/Desktop/NEU2022Summer/Web5610/classRepo-MERN-project/shasha-wang-frontend/src/components/Login.js"],"sourcesContent":["import React from \"react\";\nimport { GoogleLogin } from '@react-oauth/google';\nimport jwt_decode  from 'jwt-decode';\n\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nfunction Login({ setUser }) {\n    const onSuccess = (res) => {\n        var tokenData = jwt_decode(res.credential);\n        var loginData = {\n          googleId: tokenData.sub,\n          ...tokenData\n        }\n        setUser(loginData);\n        localStorage.setItem(\"login\", JSON.stringify(loginData));\n      };\n\n    const onFailure = (res) => {\n        console.log('Login failed: res:', res);\n    };\n\n    return (\n        <div>\n            <GoogleLogin\n                clientId={clientId}\n                buttonText=\"Login\"\n                onSuccess={onSuccess}\n                onFailure={onFailure}\n                cookiePolicy={'single_host_origin'}\n                style={{ marginTop: '100px' }}\n                isSignedIn={true}\n                auto_select={true} />\n        </div>);\n}\n\nexport default Login;"],"mappings":"gLAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,qBAA5B,CACA,MAAOC,WAAP,KAAwB,YAAxB,C,2CAEA,GAAMC,SAAQ,CAAGC,OAAO,CAACC,GAAR,CAAYC,0BAA7B,CAEA,QAASC,MAAT,MAA4B,IAAXC,QAAW,MAAXA,OAAW,CACxB,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,GAAD,CAAS,CACvB,GAAIC,UAAS,CAAGT,UAAU,CAACQ,GAAG,CAACE,UAAL,CAA1B,CACA,GAAIC,UAAS,gBACXC,QAAQ,CAAEH,SAAS,CAACI,GADT,EAERJ,SAFQ,CAAb,CAIAH,OAAO,CAACK,SAAD,CAAP,CACAG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeN,SAAf,CAA9B,EACD,CARH,CAUA,GAAMO,UAAS,CAAG,QAAZA,UAAY,CAACV,GAAD,CAAS,CACvBW,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCZ,GAAlC,EACH,CAFD,CAIA,mBACI,kCACI,KAAC,WAAD,EACI,QAAQ,CAAEP,QADd,CAEI,UAAU,CAAC,OAFf,CAGI,SAAS,CAAEM,SAHf,CAII,SAAS,CAAEW,SAJf,CAKI,YAAY,CAAE,oBALlB,CAMI,KAAK,CAAE,CAAEG,SAAS,CAAE,OAAb,CANX,CAOI,UAAU,CAAE,IAPhB,CAQI,WAAW,CAAE,IARjB,EADJ,EADJ,CAYH,CAED,cAAehB,MAAf"},"metadata":{},"sourceType":"module"}