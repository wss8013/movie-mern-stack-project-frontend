{"ast":null,"code":"import _classCallCheck from \"/Users/shashawang/Desktop/NEU2022Summer/Web5610/classRepo-MERN-project/shasha-wang-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/shashawang/Desktop/NEU2022Summer/Web5610/classRepo-MERN-project/shasha-wang-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var i1 = 0; i1 < length - 1; i1++) {\n      dx = xs[i1 + 1] - xs[i1];\n      dy = ys[i1 + 1] - ys[i1];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var i2 = 0; i2 < dxs.length - 1; i2++) {\n      var m2 = ms[i2];\n      var mNext = ms[i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[i2];\n        var dxNext = dxs[i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var i3 = 0; i3 < c1s.length - 1; i3++) {\n      m = ms[i3];\n      var c1 = c1s[i3];\n      var invDx = 1 / dxs[i3];\n\n      var _common = c1 + c1s[i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","map":{"version":3,"mappings":"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","names":["MonotonicInterpolant","xs","ys","length","indexes","i","push","sort","a","b","dys","dxs","ms","dx","dy","c1s","m2","mNext","dxNext","common","c2s","c3s","m","c1","invDx","x","low","high","mid","Math","floor","xHere","max","diff","diffSq"],"sources":["/Users/shashawang/Desktop/NEU2022Summer/Web5610/classRepo-MERN-project/shasha-wang-frontend/node_modules/react-dnd-html5-backend/src/MonotonicInterpolant.ts"],"sourcesContent":["export class MonotonicInterpolant {\n\tprivate xs: any\n\tprivate ys: any\n\tprivate c1s: any\n\tprivate c2s: any\n\tprivate c3s: any\n\n\tpublic constructor(xs: number[], ys: number[]) {\n\t\tconst { length } = xs\n\n\t\t// Rearrange xs and ys so that xs is sorted\n\t\tconst indexes = []\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tindexes.push(i)\n\t\t}\n\t\tindexes.sort((a, b) => ((xs[a] as number) < (xs[b] as number) ? -1 : 1))\n\n\t\t// Get consecutive differences and slopes\n\t\tconst dys = []\n\t\tconst dxs = []\n\t\tconst ms = []\n\t\tlet dx\n\t\tlet dy\n\t\tfor (let i = 0; i < length - 1; i++) {\n\t\t\tdx = (xs[i + 1] as number) - (xs[i] as number)\n\t\t\tdy = (ys[i + 1] as number) - (ys[i] as number)\n\t\t\tdxs.push(dx)\n\t\t\tdys.push(dy)\n\t\t\tms.push(dy / dx)\n\t\t}\n\n\t\t// Get degree-1 coefficients\n\t\tconst c1s = [ms[0]]\n\t\tfor (let i = 0; i < dxs.length - 1; i++) {\n\t\t\tconst m2 = ms[i] as number\n\t\t\tconst mNext = ms[i + 1] as number\n\t\t\tif (m2 * mNext <= 0) {\n\t\t\t\tc1s.push(0)\n\t\t\t} else {\n\t\t\t\tdx = dxs[i] as number\n\t\t\t\tconst dxNext = dxs[i + 1] as number\n\t\t\t\tconst common = dx + dxNext\n\t\t\t\tc1s.push(\n\t\t\t\t\t(3 * common) / ((common + dxNext) / m2 + (common + dx) / mNext),\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tc1s.push(ms[ms.length - 1])\n\n\t\t// Get degree-2 and degree-3 coefficients\n\t\tconst c2s = []\n\t\tconst c3s = []\n\t\tlet m\n\t\tfor (let i = 0; i < c1s.length - 1; i++) {\n\t\t\tm = ms[i] as number\n\t\t\tconst c1 = c1s[i] as number\n\t\t\tconst invDx = 1 / (dxs[i] as number)\n\t\t\tconst common = c1 + (c1s[i + 1] as number) - m - m\n\t\t\tc2s.push((m - c1 - common) * invDx)\n\t\t\tc3s.push(common * invDx * invDx)\n\t\t}\n\n\t\tthis.xs = xs\n\t\tthis.ys = ys\n\t\tthis.c1s = c1s\n\t\tthis.c2s = c2s\n\t\tthis.c3s = c3s\n\t}\n\n\tpublic interpolate(x: number): number {\n\t\tconst { xs, ys, c1s, c2s, c3s } = this\n\n\t\t// The rightmost point in the dataset should give an exact result\n\t\tlet i = xs.length - 1\n\t\tif (x === xs[i]) {\n\t\t\treturn ys[i]\n\t\t}\n\n\t\t// Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\t\tlet low = 0\n\t\tlet high = c3s.length - 1\n\t\tlet mid\n\t\twhile (low <= high) {\n\t\t\tmid = Math.floor(0.5 * (low + high))\n\t\t\tconst xHere = xs[mid]\n\t\t\tif (xHere < x) {\n\t\t\t\tlow = mid + 1\n\t\t\t} else if (xHere > x) {\n\t\t\t\thigh = mid - 1\n\t\t\t} else {\n\t\t\t\treturn ys[mid]\n\t\t\t}\n\t\t}\n\t\ti = Math.max(0, high)\n\n\t\t// Interpolate\n\t\tconst diff = x - xs[i]\n\t\tconst diffSq = diff * diff\n\t\treturn ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}