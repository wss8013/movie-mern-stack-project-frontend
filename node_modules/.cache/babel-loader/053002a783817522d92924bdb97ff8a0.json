{"ast":null,"code":"import _slicedToArray from\"/Users/shashawang/Desktop/NEU2022Summer/Web5610/classRepo-MERN-project/shasha-wang-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import update from\"immutability-helper\";import{useCallback,useState,useEffect}from\"react\";import{Card}from\"./FavoriteCard.js\";import style from\"./favorites.css\";import FavoritesDataService from\"../services/favorites\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FavoriteContainer=function FavoriteContainer(_ref){var user=_ref.user,favorites=_ref.favorites,addFavorite=_ref.addFavorite,deleteFavorite=_ref.deleteFavorite;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];useEffect(function(){var getMovie=function getMovie(favorites){FavoritesDataService.getFavoriteListByMovieIds(favorites).then(function(response){setMovies(response.data.movies);}).catch(function(e){console.log(e);});};getMovie(favorites);},[favorites]);// const [cards, setCards] = useState([\n//   {\n//     id: 1,\n//     text: \"Write a cool JS library\"\n//   },\n//   {\n//     id: 2,\n//     text: \"Make it generic enough\"\n//   },\n//   {\n//     id: 3,\n//     text: \"Write README\"\n//   },\n//   {\n//     id: 4,\n//     text: \"Create some examples\"\n//   },\n//   {\n//     id: 5,\n//     text:\n//       \"Spam in Twitter and IRC to promote it (note that this element is taller than the others)\"\n//   },\n//   {\n//     id: 6,\n//     text: \"???\"\n//   },\n//   {\n//     id: 7,\n//     text: \"PROFIT\"\n//   }\n// ]);\nvar _useState3=useState([movies]),_useState4=_slicedToArray(_useState3,2),cards=_useState4[0],setCards=_useState4[1];var moveCard=useCallback(function(dragIndex,hoverIndex){setCards(function(prevCards){return update(prevCards,{$splice:[[dragIndex,1],[hoverIndex,0,prevCards[dragIndex]]]});});},[]);var renderCard=useCallback(function(card,index){console.error(card);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{index:index,id:card._id,text:card.title,moveCard:moveCard},card._id)});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"favoritesContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"favoritesPanel\",children:\"Drag your favorites to rank them\"}),/*#__PURE__*/_jsx(\"div\",{children:cards.map(function(card,i){return renderCard(card,i);})})]});};export default FavoriteContainer;","map":{"version":3,"names":["update","useCallback","useState","useEffect","Card","style","FavoritesDataService","FavoriteContainer","user","favorites","addFavorite","deleteFavorite","movies","setMovies","getMovie","getFavoriteListByMovieIds","then","response","data","catch","e","console","log","cards","setCards","moveCard","dragIndex","hoverIndex","prevCards","$splice","renderCard","card","index","error","_id","title","map","i"],"sources":["/Users/shashawang/Desktop/NEU2022Summer/Web5610/classRepo-MERN-project/shasha-wang-frontend/src/components/Container.js"],"sourcesContent":["import update from \"immutability-helper\";\nimport { useCallback, useState, useEffect } from \"react\";\nimport { Card } from \"./FavoriteCard.js\";\nimport style from \"./favorites.css\"\nimport FavoritesDataService from \"../services/favorites\";\n\nconst FavoriteContainer = ({\n  user,\n  favorites,\n  addFavorite,\n  deleteFavorite\n}) => {\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    const getMovie = favorites => {\n      FavoritesDataService.getFavoriteListByMovieIds(favorites)\n        .then(response => {\n          setMovies(response.data.movies);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    }\n    getMovie(favorites);\n  }, [favorites]);\n\n\n  // const [cards, setCards] = useState([\n  //   {\n  //     id: 1,\n  //     text: \"Write a cool JS library\"\n  //   },\n  //   {\n  //     id: 2,\n  //     text: \"Make it generic enough\"\n  //   },\n  //   {\n  //     id: 3,\n  //     text: \"Write README\"\n  //   },\n  //   {\n  //     id: 4,\n  //     text: \"Create some examples\"\n  //   },\n  //   {\n  //     id: 5,\n  //     text:\n  //       \"Spam in Twitter and IRC to promote it (note that this element is taller than the others)\"\n  //   },\n  //   {\n  //     id: 6,\n  //     text: \"???\"\n  //   },\n  //   {\n  //     id: 7,\n  //     text: \"PROFIT\"\n  //   }\n  // ]);\n  const [cards, setCards] = useState([movies]);\n\n  const moveCard = useCallback((dragIndex, hoverIndex) => {\n    setCards((prevCards) =>\n      update(prevCards, {\n        $splice: [\n          [dragIndex, 1],\n          [hoverIndex, 0, prevCards[dragIndex]]\n        ]\n      })\n    );\n  }, []);\n  const renderCard = useCallback((card, index) => {\n    console.error(card);\n    return (\n      <div>\n        <Card\n          key={card._id}\n          index={index}\n          id={card._id}\n          text={card.title}\n          moveCard={moveCard}\n        />\n      </div>\n    );\n  }, []);\n\n  return (\n    <div className=\"favoritesContainer\">\n      <div className=\"favoritesPanel\">\n        Drag your favorites to rank them\n      </div>\n      <div>\n        {cards.map((card, i) => renderCard(card, i))}\n      </div>\n    </div>\n  );\n\n};\nexport default FavoriteContainer;\n"],"mappings":"iLAAA,MAAOA,OAAP,KAAmB,qBAAnB,CACA,OAASC,WAAT,CAAsBC,QAAtB,CAAgCC,SAAhC,KAAiD,OAAjD,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,MAAOC,MAAP,KAAkB,iBAAlB,CACA,MAAOC,qBAAP,KAAiC,uBAAjC,C,wFAEA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,MAKpB,IAJJC,KAII,MAJJA,IAII,CAHJC,SAGI,MAHJA,SAGI,CAFJC,WAEI,MAFJA,WAEI,CADJC,cACI,MADJA,cACI,CACJ,cAA4BT,QAAQ,CAAC,EAAD,CAApC,wCAAOU,MAAP,eAAeC,SAAf,eACAV,SAAS,CAAC,UAAM,CACd,GAAMW,SAAQ,CAAG,QAAXA,SAAW,CAAAL,SAAS,CAAI,CAC5BH,oBAAoB,CAACS,yBAArB,CAA+CN,SAA/C,EACGO,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBJ,SAAS,CAACI,QAAQ,CAACC,IAAT,CAAcN,MAAf,CAAT,CACD,CAHH,EAIGO,KAJH,CAIS,SAAAC,CAAC,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACD,CANH,EAOD,CARD,CASAN,QAAQ,CAACL,SAAD,CAAR,CACD,CAXQ,CAWN,CAACA,SAAD,CAXM,CAAT,CAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAA0BP,QAAQ,CAAC,CAACU,MAAD,CAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eAEA,GAAMC,SAAQ,CAAGxB,WAAW,CAAC,SAACyB,SAAD,CAAYC,UAAZ,CAA2B,CACtDH,QAAQ,CAAC,SAACI,SAAD,QACP5B,OAAM,CAAC4B,SAAD,CAAY,CAChBC,OAAO,CAAE,CACP,CAACH,SAAD,CAAY,CAAZ,CADO,CAEP,CAACC,UAAD,CAAa,CAAb,CAAgBC,SAAS,CAACF,SAAD,CAAzB,CAFO,CADO,CAAZ,CADC,EAAD,CAAR,CAQD,CAT2B,CASzB,EATyB,CAA5B,CAUA,GAAMI,WAAU,CAAG7B,WAAW,CAAC,SAAC8B,IAAD,CAAOC,KAAP,CAAiB,CAC9CX,OAAO,CAACY,KAAR,CAAcF,IAAd,EACA,mBACE,kCACE,KAAC,IAAD,EAEE,KAAK,CAAEC,KAFT,CAGE,EAAE,CAAED,IAAI,CAACG,GAHX,CAIE,IAAI,CAAEH,IAAI,CAACI,KAJb,CAKE,QAAQ,CAAEV,QALZ,EACOM,IAAI,CAACG,GADZ,CADF,EADF,CAWD,CAb6B,CAa3B,EAb2B,CAA9B,CAeA,mBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,8CADF,cAIE,qBACGX,KAAK,CAACa,GAAN,CAAU,SAACL,IAAD,CAAOM,CAAP,QAAaP,WAAU,CAACC,IAAD,CAAOM,CAAP,CAAvB,EAAV,CADH,EAJF,GADF,CAWD,CA1FD,CA2FA,cAAe9B,kBAAf"},"metadata":{},"sourceType":"module"}